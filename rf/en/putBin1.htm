<!-- IF 1 == 2 -->
<!-- scan or enter part 
  values needed are array("formName"=>"form1",
                          "formAction"=>"whatever.php",
                          "hiddens"=>"htmlOfHiddenFields",
                          "color"=>"blue",
                          "onChange"=>"do_bin();",
                          "fieldType"=>"text",
                          "fieldValue"=>"",
                          "fieldPrompt"=>"Part Number",
                          "fieldPlaceHolder"=>"Scan or enter Part",
                          "fieldName"=>"scaninput",
                          "fieldId"=>" id=\"partnum\"",
                          "fieldTitle"=>" title=\"Scan or Enter Part Number\"",
                          "msg"=>""
  ); -- !>
<!-- END -->
<style>
.medBin {
background-color: #87CEEB!important;
  color: white;
  cursor: pointer;
  padding: 10px;
  border: none;
  text-align: left;
  outline: none;
  font-size: 25px;
  font-weight: bold;
}
</style>
 <form name="{formName}" action="{formAction}" method="get">
{hiddens}
  <div class="w3-row-padding w3-margin-bottom">
    <div class="w3-half">
     <div class="container {color} w3-padding-8">
     <div class="w3-white">
      <div class="w3-padding-8 FormHeaderFont">{msg}
</div>
        <span class="{color}"><br></span>
        <div class="clear"></div>
      <div class="row">
       <div class="col-75">
        <table style="position:relative;left: 6px;" class="table table-bordered table-striped">
         <tr>
          <td class="FieldCaptionTD" colspan="2" align="left" nowrap>Part Number</td>
          <td class="FieldCaptionTD" align="right" nowrap>Qty</td>
          <td class="FieldCaptionTD" align="right" nowrap>Qty In Tote</td>
          <td class="FieldCaptionTD" colspan="1" align="left" nowrap>Description</td>
         </tr>
         <tr>
          <td colspan="2" align="left" nowrap>{pl} {partNumber}</td>
          <td align="right" nowrap>
           <input name="Qty" type="number" value="{Qty}" step="1" min="1" max="{toteQty}" onchange="chkQty(this,{toteQty});">
	  </td>
          <td align="right" {tqClass} nowrap>{toteQty}</td>
          <td class="w3-white" colspan="1" align="left" nowrap>{pdesc}</td>
         </tr>
         <tr>
          <td colspan="5" class="w3-white">
<!-- IF {obins|count} > 0 -->
           <div class="collapsible">
<!-- END -->
           <span class="medBin">{binPrompt} {bin}&nbsp;&nbsp;&nbsp;&nbsp;</span>
          </div>
<!-- IF {obins|count} > 0 -->
          <div class="content">
           <div class="row">&nbsp;</div>
           <div class="row">
           <span class="wmsBold" style="padding-left: 25px">Other Bins</span>
           </div>
 <!-- BEGIN {obins} -->
           <div class="row">
            <span style="padding-left: 25px">{obin}</span>
           </div>
<!-- END {obins} -->
          </div>
<!-- END -->
<!-- IF {obins|count} > 0 -->
         </div>
<!-- END -->

          </td>
         <tr>
          <td colspan="5" class="w3-white">&nbsp;</td>
         </tr>
         <tr>
          <td nowrap class="FieldCaptionTD" align="left" width="10%">{fieldPrompt}</td>
          <td class="w3-white" colspan="4" align="left" width="10%">
           <input name="{fieldName}" type="{fieldType}" class="w3-white" onchange="{onChange}" value="{fieldValue}" placeholder="{fieldPlaceHolder}"{fieldId}{fieldTitle}>
          </td>
         </tr>
         <tr>
          <td colspan="5" class="w3-white">&nbsp;</td>
         </tr>
<!-- IF {buttons|count} > 0 -->
         <tr>
          <td colspan="5">
<!-- BEGIN {buttons} -->
           <button type="button" class="binbutton-small" id="{btn_id}" name="{btn_name}" value="{btn_value}" onclick="{btn_onclick}">{btn_prompt}</button>
<!-- END {buttons} -->
          </td>
         </tr>
<!-- END -->
        </table>
       </div>
    <br>
<!-- IF {msg2} <> "" -->
     <div class="col-75" style="word-wrap: normal;font-weight: bold; font-size: large; margin-left: 20px; text-align: cput;">{msg2}
    </div>
<!-- END -->
      </div>
     </div>
     </div>
    </div>
  </div>
 </form>
<script>
 document.{formName}.{fieldName}.focus();

function chkQty(el,maxqty)
{
 var val=el.value;
 var msg="";
 var ok=true;
 if (val > maxqty)
 {
  msg="There is only " + maxqty + " in the Tote, Please re-enter";
  ok=false;
 }
 if (val < 1)
 {
  msg="Quantity must be at least 1, Please re-enter";
  ok=false;
 }
 if (ok === false)
 {
  alert(msg);
  el.value=1;
  document.el.focus();
  return false;
 }
}

function setBin(bintoset)
{
 if (bintoset !== "")
 {
  document.form1.bin.value=bintoset;
  document.form1.submit();
 }
}
function validateBin(ele)
{
 var entry=ele.value;
 var ok=false;
 var pb=document.form1.primaryBin.value;
 var obs=document.getElementsByName('obin');
 if (entry == pb) ok=true;
 // check other bins to see if entry is valid
 //if (!ok) ok=document.form1.obin.includes(entry);
 if (!ok) 
  {
   for (var i = 0; i < obs.length; i++) {
alert(obs[i]);
        if (obs[i] === entry) {
            ok=true;
        }
   }
  }
 if (!ok && entry !== "") 
 { // new bin ask if ok
  var j=confirm("OK to Add New Bin for this Part?");
  if (j)
  {
   document.getElementById('bOR').value=true;
   document.form1.submit();
   return true;
  }
  else 
{
 ele.value="";
 return false;
}
 } // new bin ask if ok
}

function do_done()
{
 document.form1.func.value="donePressed";
 document.form1.submit();
}
function do_cancel()
{
 document.form1.func.value="cancel";
 document.form1.submit();
}
</script>
